<!DOCTYPE html>
<html>
<head>
  <title>üè• Hospital Dashboard</title>
  <style>
    body {
      font-family:Segoe UI;
      background:#1d4350;
      color:white;
      padding:20px;
    }
    input, button {
      padding:8px;
      margin-top:8px;
      width:200px;
      border-radius:6px;
    }
    button {
      background:#00c853;
      color:white;
      border:none;
      cursor:pointer;
    }
  </style>
</head>
<body>

<h2>üè• Hospital Availability Update</h2>

<label>Beds Available:</label><br>
<input type="number" id="beds"><br>

<label>Doctors Available:</label><br>
<input type="number" id="doctors"><br>

<button id="updateBtn">Update Availability</button>

<script type="module">

import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://cfmxqwaopfahthflqgih.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNmbXhxd2FvcGZhaHRoZmxxZ2loIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNjg4NjEsImV4cCI6MjA4NzY0NDg2MX0.38jNHf-7UGhIelL87oWxB5eK0e5ZivfGSsyEv1C9pL0"
);


const hospital_id = 1;

document.getElementById("updateBtn")
.addEventListener("click", async function(){

  const beds = document.getElementById("beds").value;
  const doctors = document.getElementById("doctors").value;

  await supabase
    .from("hospitals")
    .update({
      available_beds: beds,
      available_doctors: doctors
    })
    .eq("id", hospital_id);

  alert("Availability Updated");

});

</script>
</body>
</html>

