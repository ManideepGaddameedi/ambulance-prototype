<!DOCTYPE html>
<html>
<head>
<title>Police Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>

<h2>ðŸ‘® Police Live Tracking</h2>

<div id="location"></div>

<script>

const supabase = window.supabase.createClient(
  "YOUR_SUPABASE_URL",
  "YOUR_ANON_KEY"
);

supabase
.channel('ambulance-location')
.on('postgres_changes',{
  event:'UPDATE',
  schema:'public',
  table:'ambulance_location'
}, payload=>{
  document.getElementById("location").innerHTML =
  `Live Location: ${payload.new.lat}, ${payload.new.lng}`;
})
.subscribe();

supabase
.channel('emergency-alert')
.on('postgres_changes',{
  event:'INSERT',
  schema:'public',
  table:'emergency_alerts'
}, payload=>{
  alert("ðŸš¨ Emergency Alert Received!");
})
.subscribe();

</script>
</body>
</html>
